(function(){"undefined"==typeof Spry&&(window.Spry={});Spry.Widget||(Spry.Widget={});Spry.Widget.BrowserSniff=function(){var a=navigator.userAgent.toString();this.mozilla=this.ie=this.opera=this.safari=!1;var c=/MSIE.([0-9\.]*)/i,b=/gecko/i,d=/(applewebkit|safari)\/([\d\.]*)/i,e=!1;(e=a.match(/Opera.([0-9\.]*)/i))?(this.opera=!0,this.version=parseFloat(e[1])):(e=a.match(c))?(this.ie=!0,this.version=parseFloat(e[1])):(e=a.match(d))?(this.safari=!0,this.version=parseFloat(e[2])):a.match(b)&&(e=a.match(/rv:\s*([0-9\.]+)/i),
this.mozilla=!0,this.version=parseFloat(e[1]));this.windows=this.mac=this.linux=!1;this.Platform=a.match(/windows/i)?"windows":a.match(/linux/i)?"linux":a.match(/mac/i)?"mac":a.match(/unix/i)?"unix":"unknown";this[this.Platform]=!0;this.v=this.version;this.safari&&this.mac&&this.mozilla&&(this.mozilla=!1)};Spry.is=new Spry.Widget.BrowserSniff;Spry.Widget.ValidationTextarea=function(a,c){c=Spry.Widget.Utils.firstValid(c,{});this.flags={locked:!1};this.options={};this.element=a;this.init(a);if(this.isBrowserSupported()){c.useCharacterMasking=
Spry.Widget.Utils.firstValid(c.useCharacterMasking,!0);c.hint=Spry.Widget.Utils.firstValid(c.hint,"");c.isRequired=Spry.Widget.Utils.firstValid(c.isRequired,!0);c.additionalError=Spry.Widget.Utils.firstValid(c.additionalError,!1);Spry.Widget.Utils.setOptions(this,c);Spry.Widget.Utils.setOptions(this.options,c);c.additionalError&&(this.additionalError=this.getElement(c.additionalError));var b=["submit"].concat(Spry.Widget.Utils.firstValid(this.options.validateOn,[])),b=b.join(",");this.validateOn=
0;this.validateOn|=-1!=b.indexOf("submit")?Spry.Widget.ValidationTextarea.ONSUBMIT:0;this.validateOn|=-1!=b.indexOf("blur")?Spry.Widget.ValidationTextarea.ONBLUR:0;this.validateOn|=-1!=b.indexOf("change")?Spry.Widget.ValidationTextarea.ONCHANGE:0;Spry.Widget.ValidationTextarea.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationTextarea.loadQueue.push(this)}};Spry.Widget.ValidationTextarea.ONCHANGE=1;Spry.Widget.ValidationTextarea.ONBLUR=2;Spry.Widget.ValidationTextarea.ONSUBMIT=4;Spry.Widget.ValidationTextarea.INITIAL=
"Initial";Spry.Widget.ValidationTextarea.REQUIRED="Required";Spry.Widget.ValidationTextarea.INVALID="Invalid Format";Spry.Widget.ValidationTextarea.MINIMUM="Minimum Number of Chars Not Met";Spry.Widget.ValidationTextarea.MAXIMUM="Maximum Number of Chars Exceeded";Spry.Widget.ValidationTextarea.VALID="Valid";Spry.Widget.ValidationTextarea.prototype.init=function(a){this.element=this.getElement(a);this.event_handlers=[];this.requiredClass="textareaRequiredState";this.invalidCharsMaxClass="textareaMaxCharsState";
this.invalidCharsMinClass="textareaMinCharsState";this.validClass="textareaValidState";this.focusClass="textareaFocusState";this.hintClass="textareaHintState";this.textareaFlashClass="textareaFlashState";this.safariClicked=this.isRequireInvalid=this.isMinInvalid=this.isMaxInvalid=!1;this.state=Spry.Widget.ValidationTextarea.INITIAL};Spry.Widget.ValidationTextarea.prototype.destroy=function(){if(this.event_handlers)for(var a=0;a<this.event_handlers.length;a++)Spry.Widget.Utils.removeEventListener(this.event_handlers[a][0],
this.event_handlers[a][1],this.event_handlers[a][2],!1);try{delete this.element}catch(d){}try{delete this.input}catch(d){}try{delete this.counterEl}catch(d){}try{delete this.form}catch(d){}try{delete this.event_handlers}catch(d){}try{this.cursorPosition.destroy()}catch(d){}try{delete this.cursorPosition}catch(d){}try{this.initialCursor.destroy()}catch(d){}try{delete this.initialCursor}catch(d){}for(var c=Spry.Widget.Form.onSubmitWidgetQueue,b=c.length,a=0;a<b;a++)if(c[a]==this){c.splice(a,1);break}};
Spry.Widget.ValidationTextarea.prototype.isDisabled=function(){return this.input&&(this.input.disabled||this.input.readOnly)||!this.input};Spry.Widget.ValidationTextarea.prototype.getElement=function(a){return a&&"string"==typeof a?document.getElementById(a):a};Spry.Widget.ValidationTextarea.addLoadListener=function(a){"undefined"!=typeof window.addEventListener?window.addEventListener("load",a,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("load",a,!1):"undefined"!=typeof window.attachEvent&&
window.attachEvent("onload",a)};Spry.Widget.ValidationTextarea.processLoadQueue=function(a){Spry.Widget.ValidationTextarea.onloadDidFire=!0;a=Spry.Widget.ValidationTextarea.loadQueue;for(var c=a.length,b=0;b<c;b++)a[b].attachBehaviors()};Spry.Widget.ValidationTextarea.onloadDidFire=!1;Spry.Widget.ValidationTextarea.loadQueue=[];Spry.Widget.ValidationTextarea.addLoadListener(Spry.Widget.ValidationTextarea.processLoadQueue);Spry.Widget.ValidationTextarea.addLoadListener(function(){Spry.Widget.Utils.addEventListener(window,
"unload",Spry.Widget.Form.destroyAll,!1)});Spry.Widget.ValidationTextarea.prototype.isBrowserSupported=function(){return Spry.is.ie&&5<=Spry.is.v&&Spry.is.windows||Spry.is.mozilla&&1.4<=Spry.is.v||Spry.is.safari||Spry.is.opera&&9<=Spry.is.v};Spry.Widget.ValidationTextarea.prototype.attachBehaviors=function(){this.element&&(this.input="TEXTAREA"==this.element.nodeName?this.element:Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(this.element,"TEXTAREA"));this.options&&this.options.counterType&&
("chars_count"==this.options.counterType||"chars_remaining"==this.options.counterType)&&(this.counterEl=document.getElementById(this.options.counterId),this.counterChar());if(this.input){this.input.setAttribute("AutoComplete","off");this.putHint();this.cursorPosition=new Spry.Widget.SelectionDescriptor(this.input);var a=this;this.event_handlers=[];this.useCharacterMasking&&(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(b){return a.onKeyEvent(b||event)}]),this.event_handlers.push([this.input,
"drop",function(b){return a.onDrop(b||event)}]),this.event_handlers.push([this.input,"keypress",function(b){return a.onKeyPress(b||event)}])):(this.event_handlers.push([this.input,"keydown",function(b){return a.onKeyDown(b)}]),this.event_handlers.push([this.input,"keypress",function(b){return a.safariKeyPress(b)}]),this.event_handlers.push([this.input,"keyup",function(b){return a.safariValidate(b)}]),Spry.is.safari?(this.event_handlers.push([this.input,"mouseup",function(b){return a.safariMouseUp(b)}]),
this.event_handlers.push([this.input,"mousedown",function(b){return a.safariMouseDown(b)}])):(this.event_handlers.push([this.input,"dragdrop",function(b){return a.onKeyEvent(b)}]),this.event_handlers.push([this.input,"dragenter",function(b){a.removeHint();return a.onKeyDown(b)}]),this.event_handlers.push([this.input,"dragexit",function(b){return a.putHint()}]))),this.event_handlers.push([this.input,"keydown",function(b){return a.onKeyDown(b||event)}]));this.event_handlers.push([this.input,"focus",
function(b){return a.onFocus(b||event)}]);this.event_handlers.push([this.input,"mousedown",function(b){return a.onMouseDown(b||event)}]);this.event_handlers.push([this.input,"blur",function(b){return a.onBlur(b||event)}]);this.validateOn&Spry.Widget.ValidationTextarea.ONCHANGE&&(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(b){return a.onChange(b||event)}]),this.event_handlers.push([this.input,"drop",function(b){return a.onChange(b||event)}])):(this.event_handlers.push([this.input,
"keydown",function(b){return a.onKeyDown(b)}]),this.event_handlers.push([this.input,"keypress",function(b){return a.safariChangeKeyPress(b)}]),this.event_handlers.push([this.input,"keyup",function(b){return a.safariChangeValidate(b)}]),Spry.is.safari?(this.event_handlers.push([this.input,"mouseup",function(b){return a.safariChangeMouseUp(b)}]),this.event_handlers.push([this.input,"mousedown",function(b){return a.safariMouseDown(b)}])):(this.event_handlers.push([this.input,"dragdrop",function(b){return a.onChange(b)}]),
this.event_handlers.push([this.input,"dragenter",function(b){a.removeHint();return a.onKeyDown(b)}]),this.event_handlers.push([this.input,"dragexit",function(b){return a.putHint()}]))));this.validateOn&Spry.Widget.ValidationTextarea.ONCHANGE||this.useCharacterMasking||(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(b){return a.counterChar()}]),this.event_handlers.push([this.input,"drop",function(b){return a.counterChar()}])):(this.event_handlers.push([this.input,"keypress",
function(b){return a.counterChar()}]),this.event_handlers.push([this.input,"keyup",function(b){return a.counterChar()}]),Spry.is.safari?this.event_handlers.push([this.input,"mouseup",function(b){return a.counterChar()}]):this.event_handlers.push([this.input,"dragdrop",function(b){return a.counterChar()}])));for(var c=0;c<this.event_handlers.length;c++)Spry.Widget.Utils.addEventListener(this.event_handlers[c][0],this.event_handlers[c][1],this.event_handlers[c][2],!1);if(this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.input,
"FORM"))this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(a){a=a||event;return Spry.Widget.Form.onSubmit(a,a.srcElement||a.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(a){a=a||event;return Spry.Widget.Form.onReset(a,a.srcElement||a.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this)}this.saveState()};Spry.Widget.ValidationTextarea.prototype.onTyping=
function(a){if(1!=this.input.disabled&&1!=this.input.readOnly){this.initialCursor||(this.initialCursor=this.cursorPosition);if(this.flags.locked)return!0;var c=this.input.value,b=!0;if(this.flags.hintOn)return!0;if(a&&this.input&&this.options&&0<this.options.maxChars&&b)if(c.length>this.options.maxChars&&(!Spry.Widget.Utils.isSpecialKey(a)&&this.cursorPosition.start==this.cursorPosition.end||Spry.Widget.Utils.isSpecialKey(a)&&c!=this.initialValue||this.cursorPosition.start!=this.cursorPosition.end)){this.flags.locked=
!0;var d=this.initialValue;a=this.initialCursor.start;b=this.initialCursor.end;if(d.length&&this.initialCursor.end<d.length)var e=b-a+this.options.maxChars-d.length,c=d.substring(0,a)+c.substring(a,a+e)+d.substring(b,d.length<this.options.maxChars?d.length:this.options.maxChars),b=a+e;else c=c.substring(0,this.options.maxChars),b=this.options.maxChars;Spry.is.ie?this.input.innerText=c:this.input.value=c;this.redTextFlash();this.cursorPosition.moveTo(b,b);b=this.flags.locked=!1}else this.setState(Spry.Widget.ValidationTextarea.VALID),
this.isMaxInvalid=!1;this.counterChar();return b}};Spry.Widget.ValidationTextarea.prototype.validateMinRequired=function(a){var c=!1;this.notFireMinYet="undefined"==typeof this.notFireMinYet?!1:c=!0;this.onBlurOn?this.notFireMinYet=!0:this.onKeyEventOn||(this.notFireMinYet=!0);if(this.input&&this.options&&this.options.isRequired)if(0<a.length&&this.isRequireInvalid&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&a!=this.hint))this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),
this.isRequireInvalid=!1;else if(!(0!=a.length&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&a!=this.hint)||this.isRequireInvalid&&!c)){if(this.notFireMinYet||Spry.is.ie)this.switchClassName(this.requiredClass),this.setState(Spry.Widget.ValidationTextarea.REQUIRED);this.isRequireInvalid=!0;this.isMinInvalid=!1}this.input&&this.options&&0<this.options.minChars&&!this.isRequireInvalid&&(a.length>=this.options.minChars&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&a!=this.hint)&&
this.isMinInvalid?(this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),this.isMinInvalid=!1):(a.length<this.options.minChars||this.hint&&a==this.hint&&this.flags.hintOn)&&!this.isMinInvalid&&(this.switchClassName(this.invalidCharsMinClass),this.setState(Spry.Widget.ValidationTextarea.MINIMUM),this.isMinInvalid=!0))};Spry.Widget.ValidationTextarea.prototype.counterChar=function(){this.counterEl&&this.options&&this.options.counterType&&("chars_remaining"==this.options.counterType||
"chars_count"==this.options.counterType)&&("chars_remaining"==this.options.counterType?0<this.options.maxChars&&(this.flags.hintOn?this.setCounterElementValue(this.options.maxChars):this.options.maxChars>this.input.value.length?this.setCounterElementValue(this.options.maxChars-this.input.value.length):this.setCounterElementValue(0)):this.flags.hintOn?this.setCounterElementValue(0):this.useCharacterMasking&&"undefined"!=typeof this.options.maxChars&&this.options.maxChars<this.input.value.length?this.setCounterElementValue(this.options.maxChars):
this.setCounterElementValue(this.input.value.length))};Spry.Widget.ValidationTextarea.prototype.setCounterElementValue=function(a){"input"!=this.counterEl.nodeName.toLowerCase()&&"textarea"!=this.counterEl.nodeName.toLowerCase()&&"select"!=this.counterEl.nodeName.toLowerCase()&&"img"!=this.counterEl.nodeName.toLowerCase()&&(this.counterEl.innerHTML=a)};Spry.Widget.ValidationTextarea.prototype.reset=function(){this.removeHint();this.removeClassName(this.requiredClass);this.removeClassName(this.invalidCharsMinClass);
this.removeClassName(this.invalidCharsMaxClass);this.removeClassName(this.validClass);this.setState(Spry.Widget.ValidationTextarea.INITIAL);var a=this;setTimeout(function(){a.putHint();a.counterChar()},10)};Spry.Widget.ValidationTextarea.prototype.validate=function(){if(1==this.input.disabled||1==this.input.readOnly)return!0;this.validateOn&Spry.Widget.ValidationTextarea.ONSUBMIT&&this.removeHint();var a=this.input.value;this.validateMinRequired(a);var c=!this.isMinInvalid&&!this.isRequireInvalid;
c&&0<this.options.maxChars&&!this.useCharacterMasking&&(a.length<=this.options.maxChars||this.hint&&this.hint==a&&this.flags.hintOn?(this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),this.isMaxInvalid=!1):(this.switchClassName(this.invalidCharsMaxClass),this.setState(Spry.Widget.ValidationTextarea.MAXIMUM),this.isMaxInvalid=!0));(c=c&&!this.isMaxInvalid)&&this.switchClassName(this.validClass);this.counterChar();return c};Spry.Widget.ValidationTextarea.prototype.setState=
function(a){this.state=a};Spry.Widget.ValidationTextarea.prototype.getState=function(){return this.state};Spry.Widget.ValidationTextarea.prototype.removeHint=function(){this.flags.hintOn&&(this.flags.locked=!0,this.input.value="",this.flags.locked=!1,this.flags.hintOn=!1,this.removeClassName(this.hintClass))};Spry.Widget.ValidationTextarea.prototype.putHint=function(){this.hint&&""==this.input.value&&(this.flags.hintOn=!0,this.input.value=this.hint,this.addClassName(this.hintClass))};Spry.Widget.ValidationTextarea.prototype.redTextFlash=
function(){var a=this;this.addClassName(this.textareaFlashClass);setTimeout(function(){a.removeClassName(a.textareaFlashClass)},200)};Spry.Widget.ValidationTextarea.prototype.onKeyPress=function(a){if(Spry.is.ie&&Spry.is.windows&&13==a.keyCode&&2>this.initialCursor.length+this.options.maxChars-this.input.value.length)return Spry.Widget.Utils.stopEvent(a),!1};Spry.Widget.ValidationTextarea.prototype.onKeyDown=function(a){this.saveState();this.keyCode=a.keyCode;return!0};Spry.Widget.ValidationTextarea.prototype.onKeyEvent=
function(a){if("propertychange"==a.type&&"value"!=a.propertyName)return!0;this.onTyping(a)||Spry.Widget.Utils.stopEvent(a)};Spry.Widget.ValidationTextarea.prototype.onChange=function(a){if(Spry.is.ie&&a&&"propertychange"==a.type&&"value"!=a.propertyName)return!0;if(this.flags.drop){var c=this;setTimeout(function(){c.flags.drop=!1;c.onChange(null)},0);return!0}if(this.flags.hintOn)return!0;this.onKeyEventOn=!0;a=this.validate();this.onKeyEventOn=!1;return a};Spry.Widget.ValidationTextarea.prototype.onMouseDown=
function(a){this.flags.active&&this.saveState()};Spry.Widget.ValidationTextarea.prototype.onDrop=function(a){this.flags.drop=!0;this.removeHint();if(Spry.is.ie){var c=document.body.createTextRange();c.moveToPoint(a.x,a.y);c.select()}this.saveState();this.flags.active=!0;this.addClassName(this.focusClass)};Spry.Widget.ValidationTextarea.prototype.onFocus=function(a){this.flags.drop||(this.removeHint(),this.saveState(),this.flags.active=!0,this.addClassName(this.focusClass))};Spry.Widget.ValidationTextarea.prototype.onBlur=
function(a){this.removeClassName(this.focusClass);this.validateOn&Spry.Widget.ValidationTextarea.ONBLUR&&(this.onBlurOn=!0,this.validate(),this.onBlurOn=!1);this.flags.active=!1;var c=this;setTimeout(function(){c.putHint()},10)};Spry.Widget.ValidationTextarea.prototype.safariMouseDown=function(a){this.safariClicked=!0};Spry.Widget.ValidationTextarea.prototype.safariChangeMouseUp=function(a){if(this.safariClicked)return this.safariClicked=!1,!0;this.onKeyDown(a);return this.safariChangeValidate(a,
!1)};Spry.Widget.ValidationTextarea.prototype.safariMouseUp=function(a){if(this.safariClicked)return this.safariClicked=!1,!0;this.onKeyDown(a);return this.safariValidate(a,!1)};Spry.Widget.ValidationTextarea.prototype.safariKeyPress=function(a){this.safariFlag=new Date;return this.safariValidate(a,!0)};Spry.Widget.ValidationTextarea.prototype.safariValidate=function(a,c){if(a.keyCode&&Spry.Widget.Utils.isSpecialKey(a)&&8!=a.keyCode&&46!=a.keyCode)return!0;var b=this.onTyping(a);if(1E3>new Date-this.safariFlag&&
c){var d=this;setTimeout(function(){d.safariValidate(a,!1)},1E3)}return b};Spry.Widget.ValidationTextarea.prototype.safariChangeKeyPress=function(a){this.safariChangeFlag=new Date;return this.safariChangeValidate(a,!0)};Spry.Widget.ValidationTextarea.prototype.safariChangeValidate=function(a,c){if(a.keyCode&&Spry.Widget.Utils.isSpecialKey(a)&&8!=a.keyCode&&46!=a.keyCode)return!0;var b=this.onChange(a);if(1E3>new Date-this.safariChangeFlag&&c){var d=this;setTimeout(function(){d.safariChangeValidate(a,
!1)},1E3-new Date+this.safariChangeFlag)}return b};Spry.Widget.ValidationTextarea.prototype.saveState=function(a){if(!(0<this.options.maxChars&&this.input.value.length>this.options.maxChars))return this.cursorPosition.update(),this.initialValue=this.flags.hintOn?"":this.input.value,this.initialCursor=this.cursorPosition,!0};Spry.Widget.ValidationTextarea.prototype.checkClassName=function(a,c){if(!a||!c||"string"==typeof a&&(a=document.getElementById(a),!a))return!1;a.className||(a.className=" ");
return a};Spry.Widget.ValidationTextarea.prototype.switchClassName=function(a){for(var c=[this.invalidCharsMaxClass,this.validClass,this.requiredClass,this.invalidCharsMinClass],b=0;b<c.length;b++)c[b]!=a&&this.removeClassName(c[b]);this.addClassName(a)};Spry.Widget.ValidationTextarea.prototype.addClassName=function(a){var c=this.checkClassName(this.element,a),b=this.checkClassName(this.additionalError,a);c&&-1==c.className.search(new RegExp("\\b"+a+"\\b"))&&(this.element.className+=" "+a,b&&(b.className+=
" "+a))};Spry.Widget.ValidationTextarea.prototype.removeClassName=function(a){var c=this.checkClassName(this.element,a),b=this.checkClassName(this.additionalError,a);c&&(c.className=c.className.replace(new RegExp("\\s*\\b"+a+"\\b","g"),""),b&&(b.className=b.className.replace(new RegExp("\\s*\\b"+a+"\\b","g"),"")))};Spry.Widget.SelectionDescriptor=function(a){this.element=a;this.update()};Spry.Widget.SelectionDescriptor.prototype.update=function(){if(Spry.is.ie&&Spry.is.windows){var a=this.element.ownerDocument.selection;
if("TEXTAREA"==this.element.nodeName){if("None"!=a.type){try{var c=a.createRange()}catch(d){return}if(c.parentElement()==this.element){a=this.element.ownerDocument.body.createTextRange();a.moveToElementText(this.element);for(var b=0;0>a.compareEndPoints("StartToStart",c);b++)a.moveStart("character",1);this.start=b;a=this.element.ownerDocument.body.createTextRange();a.moveToElementText(this.element);for(b=0;0>a.compareEndPoints("StartToEnd",c);b++)a.moveStart("character",1);this.end=b;this.length=
this.end-this.start;this.text=c.text}}}else if("INPUT"==this.element.nodeName){try{this.range=a.createRange()}catch(d){return}this.length=this.range.text.length;c=this.range.duplicate();this.start=-c.moveStart("character",-1E4);c=this.range.duplicate();c.collapse(!1);this.end=-c.moveStart("character",-1E4);this.text=this.range.text}}else{c=this.element;b=a=0;try{a=c.selectionStart}catch(d){}try{b=c.selectionEnd}catch(d){}Spry.is.safari&&(2147483647==a&&(a=0),2147483647==b&&(b=0));this.start=a;this.end=
b;this.length=b-a;this.text=this.element.value.substring(a,b)}};Spry.Widget.SelectionDescriptor.prototype.destroy=function(){try{delete this.range}catch(a){}try{delete this.element}catch(a){}};Spry.Widget.SelectionDescriptor.prototype.moveTo=function(a,c){if(Spry.is.ie&&Spry.is.windows){if("TEXTAREA"==this.element.nodeName){var b=this.element.createTextRange();this.range=this.element.createTextRange();this.range.move("character",a);this.range.moveEnd("character",c-a);0>this.range.compareEndPoints("StartToStart",
b)&&this.range.setEndPoint("StartToStart",b);0<this.range.compareEndPoints("EndToEnd",b)&&this.range.setEndPoint("EndToEnd",b)}else"INPUT"==this.element.nodeName&&(this.range=this.element.ownerDocument.selection.createRange(),this.range.move("character",-1E4),this.start=this.range.moveStart("character",a),this.end=this.start+this.range.moveEnd("character",c-a));this.range.select()}else{this.start=a;try{this.element.selectionStart=a}catch(d){}this.end=c;try{this.element.selectionEnd=c}catch(d){}}this.ignore=
!0;this.update()};Spry.Widget.Form||(Spry.Widget.Form={});Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]);Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(a){for(var c=!0,b=!0,d=Spry.Widget.Form.onSubmitWidgetQueue,e=d.length,f=0;f<e;f++)d[f].isDisabled()||d[f].form!=a||(c=(b=d[f].validate())&&c);return c});Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(a,c){return 0==Spry.Widget.Form.validate(c)?!1:!0});Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=
function(a,c){for(var b=Spry.Widget.Form.onSubmitWidgetQueue,d=b.length,e=0;e<d;e++)b[e].isDisabled()||b[e].form!=c||"function"!=typeof b[e].reset||b[e].reset();return!0});Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(a){for(var c=Spry.Widget.Form.onSubmitWidgetQueue,b=0;b<Spry.Widget.Form.onSubmitWidgetQueue.length;b++)c[b].form==a&&"function"==typeof c[b].destroy&&(c[b].destroy(),b--)});Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var a=Spry.Widget.Form.onSubmitWidgetQueue,
c=0;c<Spry.Widget.Form.onSubmitWidgetQueue.length;c++)"function"==typeof a[c].destroy&&(a[c].destroy(),c--)});Spry.Widget.Utils||(Spry.Widget.Utils={});Spry.Widget.Utils.setOptions=function(a,c,b){if(c)for(var d in c)b&&void 0==c[d]||(a[d]=c[d])};Spry.Widget.Utils.firstValid=function(){for(var a=null,c=0;c<Spry.Widget.Utils.firstValid.arguments.length;c++)if("undefined"!=typeof Spry.Widget.Utils.firstValid.arguments[c]){a=Spry.Widget.Utils.firstValid.arguments[c];break}return a};Spry.Widget.Utils.specialSafariNavKeys=
",63232,63233,63234,63235,63272,63273,63275,63276,63277,63289,";Spry.Widget.Utils.specialCharacters=",8,9,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91,92,93,144,192,63232,";Spry.Widget.Utils.specialCharacters+=Spry.Widget.Utils.specialSafariNavKeys;Spry.Widget.Utils.isSpecialKey=function(a){return-1!=Spry.Widget.Utils.specialCharacters.indexOf(","+a.keyCode+",")};Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel=function(a,c){var b=a.getElementsByTagName(c);return b?b[0]:null};Spry.Widget.Utils.getFirstParentWithNodeName=
function(a,c){for(;a.parentNode&&a.parentNode.nodeName.toLowerCase()!=c.toLowerCase()&&"BODY"!=a.parentNode.nodeName;)a=a.parentNode;return a.parentNode&&a.parentNode.nodeName.toLowerCase()==c.toLowerCase()?a.parentNode:null};Spry.Widget.Utils.destroyWidgets=function(a){"string"==typeof a&&(a=document.getElementById(a));for(var c=Spry.Widget.Form.onSubmitWidgetQueue,b=0;b<Spry.Widget.Form.onSubmitWidgetQueue.length;b++)"function"==typeof c[b].destroy&&Spry.Widget.Utils.contains(a,c[b].element)&&(c[b].destroy(),
b--)};Spry.Widget.Utils.contains=function(a,c){if("object"==typeof a.contains)return c&&a&&(a==c||a.contains(c));for(var b=c;b;){if(b==a)return!0;b=b.parentNode}return!1};Spry.Widget.Utils.addEventListener=function(a,c,b,d){try{a.addEventListener?a.addEventListener(c,b,d):a.attachEvent&&a.attachEvent("on"+c,b,d)}catch(e){}};Spry.Widget.Utils.removeEventListener=function(a,c,b,d){try{a.removeEventListener?a.removeEventListener(c,b,d):a.detachEvent&&a.detachEvent("on"+c,b,d)}catch(e){}};Spry.Widget.Utils.stopEvent=
function(a){try{this.stopPropagation(a),this.preventDefault(a)}catch(c){}};Spry.Widget.Utils.stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};Spry.Widget.Utils.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}})();
